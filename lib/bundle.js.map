{"version":3,"sources":["webpack:///webpack/bootstrap b39e9e5f76585c11eec7","webpack:///./lib/corgi_chomp.js","webpack:///./lib/game.js","webpack:///./lib/corgi.js","webpack:///./lib/bone.js","webpack:///./lib/falling_object.js","webpack:///./lib/chocolate.js","webpack:///./lib/game_view.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;;;;;;;ACjBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,WAAW;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;ACxBA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACVA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b39e9e5f76585c11eec7","const Game = require(\"./game\");\nconst GameView = require(\"./game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"canvas\");\n  canvas.width = Game.DIM_X;\n  canvas.height = Game.DIM_Y;\n\n  const ctx = canvas.getContext(\"2d\");\n  new GameView(ctx).welcome();\n});\n\n\n// ## want to create new game view, render welcome message on game view first\n// ## welcome message, wait for user to press space to start game\n// ## on start, gameview.start (to create new game)\n// ## on gameover, render gameover message and on reset, replace with new game\n//     and invoke GameView.start();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/corgi_chomp.js\n// module id = 0\n// module chunks = 0","const Corgi = require(\"./corgi\");\nconst Bone = require(\"./bone\");\nconst Chocolate = require(\"./chocolate\");\n\nclass Game {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.score = 0;\n    this.lives = 3;\n    this.bones = [];\n    this.chocolates = [];\n    this.difficulty = 2;\n    this.corgi = new Corgi();\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.corgi.draw(ctx);\n    this.checkCollisions();\n    this.drawScore(this.ctx);\n    this.drawLives(this.ctx);\n    this.checkGameOver(this.ctx);\n  }\n\n  drawScore(ctx) {\n    ctx.font='20px Raleway';\n    ctx.fillStyle = \"white\";\n    ctx.fillText(\"SCORE: \" + this.score, 10,30);\n  }\n\n  drawLives(ctx) {\n    ctx.font='20px Raleway';\n    ctx.fillStyle = \"white\";\n    ctx.fillText(\"LIVES: \" + this.lives, 315,30);\n  }\n\n  drawGameOver(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    ctx.font='25px Raleway';\n    ctx.fillStyle = \"black\";\n    ctx.fillText(\"GAME OVER\", 125, 160);\n    ctx.fillText(\"YOUR SCORE: \" + this.score, 110, 200);\n    ctx.fillText(\"Press SPACE to restart!\", 70, 240);\n    this.clearAllIntervals();\n  }\n\n  checkGameOver(ctx) {\n    if (this.lives == 0) {\n      this.drawGameOver(ctx);\n    }\n  }\n\n  checkCollisions() {\n    this.bones.forEach((bone) => {\n      if (bone.collidesWith(this.corgi)) {\n        this.score++;\n        this.remove(bone);\n      }\n      this.increaseDifficulty(bone);\n      bone.update(this.ctx);\n    });\n    this.chocolates.forEach(chocolate => {\n      if (chocolate.collidesWith(this.corgi)) {\n        this.lives--;\n        this.remove(chocolate);\n      }\n      this.increaseDifficulty(chocolate);\n      chocolate.update(this.ctx);\n    });\n  }\n\n  startInterval() {\n    setInterval(() => this.bones.push(new Bone()), 2000);\n    setInterval(() => this.chocolates.push(new Chocolate()), 5500);\n  }\n\n  clearAllIntervals() {\n    for (var i = 1; i < 99999; i++) {\n      window.clearInterval(i);\n    }\n  }\n\n  remove(object) {\n    if (object instanceof Bone) {\n      this.bones.splice(this.bones.indexOf(object), 1);\n    } else if (object instanceof Chocolate) {\n      this.chocolates.splice(this.chocolates.indexOf(object), 1);\n    }\n  }\n\n  increaseDifficulty(object) {\n    if (this.score >= 5 && this.score < 10) {\n      this.difficulty = 3;\n      object.dy = this.difficulty;\n    } else if (this.score >= 10 && this.score < 20) {\n      this.difficulty = 4;\n      object.dy = this.difficulty;\n    } else if (this.score >= 20) {\n      this.difficulty = 5;\n      object.dy = this.difficulty;\n    }\n  }\n}\n\nGame.DIM_X = 400;\nGame.DIM_Y = 500;\n\nmodule.exports = Game;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game.js\n// module id = 1\n// module chunks = 0","class Corgi {\n  constructor() {\n    this.x = 170;\n    this.y = 450;\n    this.width = 60;\n    this.height = 45;\n    this.image = new Image();\n    this.image.src = \"https://res.cloudinary.com/joycechau/image/upload/v1485366189/corgi_2.gif\";\n  }\n\n  updatePos(left) {\n    if (left && this.x > 0) {\n      this.x -= 20;\n    } else if (!left && this.x < 340){\n      this.x += 20;\n    }\n  }\n\n  draw(ctx) {\n    ctx.drawImage(this.image, this.x, this.y);\n  }\n\n}\n\nmodule.exports = Corgi;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/corgi.js\n// module id = 2\n// module chunks = 0","const FallingObject = require(\"./falling_object\");\n\nclass Bone extends FallingObject {\n  constructor(options = {}) {\n    options.good = true;\n    options.src = \"https://res.cloudinary.com/joycechau/image/upload/c_scale,w_30/v1485284632/bone.png\";\n    super(options);\n  }\n}\n\nmodule.exports = Bone;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/bone.js\n// module id = 3\n// module chunks = 0","class FallingObject {\n  constructor(options) {\n    this.x = (Math.floor(370 * Math.random()));\n    this.y = 0;\n    this.width = 30;\n    this.height = 30;\n    this.dy = 2;\n    this.good = options.good;\n    this.image = new Image();\n    this.image.src = options.src;\n  }\n\n  update(ctx) {\n    this.y += this.dy;\n    this.draw(ctx);\n  }\n\n  draw(ctx) {\n    ctx.drawImage(this.image, this.x, this.y);\n  }\n\n  collidesWith(otherObject) {\n    return (((this.x + this.width/2) > otherObject.x && (this.x < (otherObject.x + otherObject.width))) && ((this.y + this.height) > otherObject.y && (this.y < (otherObject.y + otherObject.height))));\n  }\n}\n\nmodule.exports = FallingObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/falling_object.js\n// module id = 4\n// module chunks = 0","const FallingObject = require(\"./falling_object\");\n\nclass Chocolate extends FallingObject {\n  constructor(options = {}) {\n    options.good = false;\n    options.src = \"https://res.cloudinary.com/joycechau/image/upload/c_scale,w_30/v1485286020/chocolate.png\";\n    super(options);\n  }\n}\n\nmodule.exports = Chocolate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/chocolate.js\n// module id = 5\n// module chunks = 0","const Game = require(\"./game\");\n\nclass GameView {\n  constructor(ctx) {\n    this.ctx = ctx;\n  }\n\n  bindKeyHandlers() {\n    const corgi = this.corgi;\n    Object.keys(GameView.MOVES).forEach((k) => {\n      let move = GameView.MOVES[k] === -20;\n      key(k, () => corgi.updatePos(move));\n    });\n  }\n\n  welcome() {\n    this.drawWelcome(this.ctx);\n    const that = this;\n    $(window).keypress(function(e) {\n      if (e.keyCode == 32) {\n        that.start();\n      }\n    });\n  }\n\n  drawWelcome(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    ctx.font='20px Arial';\n    ctx.fillStyle = \"black\";\n    ctx.fillText(\"Press SPACE to start!\", 100, 200);\n  }\n\n  start() {\n    this.game = new Game(this.ctx);\n    this.corgi = this.game.corgi;\n    this.bindKeyHandlers();\n    this.game.startInterval();\n    this.lastTime = 0;\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nGameView.MOVES = {\n  \"left\": -20,\n  \"right\": 20\n};\n\nmodule.exports = GameView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/game_view.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}